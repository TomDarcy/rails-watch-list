<div class="container">
  <div class="list-header">
    <h1>List : <%= @list.name.capitalize %></h1>
    <div class="button-header">
      <div class="bookmark-modal">
        <button type="button" class="btn btn btn-flat header-button" data-bs-toggle="modal" data-bs-target="#exampleModal">
          New Bookmark  </button>
        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">New Bookmark</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <%= simple_form_for [@list, @bookmark] do |f| %>
                  <%= f.input :movie_id, collection: Movie.all.map { |m| [m.title, m.id] }, label: "Movie" %>
                  <%= f.input :comment, label: "What did you think of the film?" %>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                  <%= f.submit "Add Bookmark", class: "btn btn-primary" %>
                <% end %>
              </div>
            </div>
          </div>
        </div>
      </div>
      <%= link_to "Delete", list_path(@list),data: {turbo_method: :delete, turbo_confirm: "Are you sure?"}, class: "btn btn btn-flat ms-2 header-button" %>
    </div>
  </div>
  <div class="cards">
    <% @bookmarks.each do |bookmark| %>
      <div class="card-bookmark">
        <%= image_tag(bookmark.movie.poster_url) %>
        <div class="card-bookmark-infos">
          <div>
            <h2><%= bookmark.movie.title %></h2>
            <p><%= bookmark.comment %></p>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
</div>
